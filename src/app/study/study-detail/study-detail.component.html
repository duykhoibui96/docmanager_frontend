<app-title [title]="'Chi tiết nghiên cứu'" [mode]="'single'" [url]="routingUrl"></app-title>
<div class="text-right pr-5 pt-3">
  <button class="btn app-btn primary" [routerLink]="['/admin/document/document-manager/study',study._id]"  routerLinkActive="active" [queryParams]="{ page: 1 }">Quản lý tài liệu</button>
</div>
<div class="container p-5">
  <form (ngSubmit)="form.form.valid && !seminarSearchFailed && update()" #form="ngForm">
    <!-- <div class="alert alert-warning" *ngIf="err">
            {{err}}
          </div> -->
    <div class="form-group">
      <label for="StudyID">Mã nghiên cứu</label>
      <input type="text" [(ngModel)]="study.StudyID" class="form-control" name="StudyID" placeholder="Nhập mã nghiên cứu" readonly
        required>
    </div>
    <div class="form-group">
      <label for="Name">Tên nghiên cứu</label>
      <input type="text" [(ngModel)]="record.Name" class="form-control" name="Name" placeholder="Nhập tên nghiên cứu" #name="ngModel"
        required>
      <p style="color: red" [hidden]="name.valid || name.pristine">
        Phải nhập tên nghiên cứu
      </p>
    </div>
    <div class="form-group">
      <div class="form-group">
        <label for="Seminar">Hội thảo liên quan</label>
        <input type="text" class="form-control" placeholder="Nhập tên hội thảo" [(ngModel)]="record.Seminar" name="Seminar"
          [ngbTypeahead]="seminarLoading" [resultFormatter]="seminarFormatter" [inputFormatter]="seminarFormatter" #seminar="ngModel">
        <p style="color: red" *ngIf="seminarSearchFailed">Hội thảo không tồn tại</p>
      </div>
    </div>
    <div class="form-group">
      <label for="Content">Nội dung nghiên cứu</label>
      <textarea rows="5" type="text" [(ngModel)]="record.Content" class="form-control" name="Content" placeholder="Nhập nội dung"></textarea>
    </div>
    <div class="form-group">
      <label for="Time">Thời gian</label>
      <div class="input-group">
        <input type="text" class="form-control" [(ngModel)]="record.Time" name="Time" ngbDatepicker #time="ngbDatepicker" placeholder="Chọn thời gian"
          required>
        <button class="input-group-addon" (click)="time.toggle()" type="button">
          <i class="fa fa-calendar"></i>
        </button>
      </div>
    </div>
    <div class="text-right">
      <button type="submit" class="btn app-btn" [disabled]="!form.form.valid || seminarSearchFailed">Cập nhật thông tin</button>
    </div>>
  </form>
</div>
